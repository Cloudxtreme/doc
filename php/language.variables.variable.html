<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>可变变量</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.variables.scope.html">变量范围</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.variables.external.html">来自 PHP 之外的变量</a></div>
 <div class="up"><a href="language.variables.html">变量</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.variables.variable" class="sect1">
   <h2 class="title">可变变量</h2>

   <p class="simpara">
     有时候使用可变变量名是很方便的。就是说，一个变量的变量名可以动态的设置和使用。一个普通的变量通过声明来设置，例如：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'hello'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    一个可变变量获取了一个普通变量的值作为这个可变变量的变量名。在上面的例子中
    <em class="emphasis">hello</em> 使用了两个美元符号（$）以后，就可以作为一个可变变量的变量了。例如：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">$</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'world'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    这时，两个变量都被定义了：<var class="varname"><var class="varname">$a</var></var> 的内容是“hello”并且
    <var class="varname"><var class="varname">$hello</var></var> 的内容是“world”。因此，可以表述为：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">&nbsp;</span><span style="color: #007700">${</span><span style="color: #0000BB">$a</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    以下写法更准确并且会输出同样的结果：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">&nbsp;</span><span style="color: #0000BB">$hello</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
     它们都会输出：<span class="computeroutput">hello world</span>。
   </p>

   <p class="simpara">
    要将可变变量用于数组，必须解决一个模棱两可的问题。这就是当写下
    <var class="varname"><var class="varname">$$a[1]</var></var>
    时，解析器需要知道是想要
    <var class="varname"><var class="varname">$a[1]</var></var>
    作为一个变量呢，还是想要
    <var class="varname"><var class="varname">$$a</var></var>
    作为一个变量并取出该变量中索引为 [1]
    的值。解决此问题的语法是，对第一种情况用
    <var class="varname"><var class="varname">${$a[1]}</var></var>，对第二种情况用
    <var class="varname"><var class="varname">${$a}[1]</var></var>。
   </p>

   <div class="warning"><b class="warning">Warning</b>
    <p class="simpara">
     注意，在 PHP 的函数和类的方法中，<a href="language.variables.superglobals.html" class="link">超全局变量</a>不能用作可变变量。
    </p>
   </div>

  </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.variables.scope.html">变量范围</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.variables.external.html">来自 PHP 之外的变量</a></div>
 <div class="up"><a href="language.variables.html">变量</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
