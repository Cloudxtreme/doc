<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>自动加载对象</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.constants.html">类常量</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.decon.html">构造函数和析构函数</a></div>
 <div class="up"><a href="language.oop5.html">类与对象</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.oop5.autoload" class="sect1">
 <h2 class="title">自动加载对象</h2>
 <p class="para">
  很多开发者写面向对象的应用程序时对每个类的定义建立一个
  PHP 源文件。一个很大的烦恼是不得不在每个脚本（每个类一个文件）开头写一个长长的包含文件列表。
 </p>
 <p class="para">
  在 PHP 5 中，不再需要这样了。可以定义一个
  __autoload 函数，它会在试图使用尚未被定义的类时自动调用。通过调用此函数，脚本引擎在
  PHP 出错失败前有了最后一个机会加载所需的类。
 </p>
 <blockquote class="note"><p><b class="note">Note</b>: 
  <p class="para">
   在 __autoload 函数中抛出的异常不能被
   <a href="language.exceptions.html" class="link">catch</a>
   语句块捕获并导致致命错误。
  </p>
 </p></blockquote>
 <blockquote class="note"><p><b class="note">Note</b>: 
  <p class="para">
  如果使用 PHP 的 CLI 
  <a href="features.commandline.html" class="link">交互模式</a>
  时，Autoloading 不存在。
  </p>
 </p></blockquote>
 <p class="para">
  <div class="example" id="example-157">
   <p><b>Example #1 Autoload 例子</b></p>
   <div class="example-contents"><p>
    本例尝试分别从 <var class="filename">MyClass1.php</var>
    和 <var class="filename">MyClass2.php</var> 文件中加载
    <i>MyClass1</i> 和
    <i>MyClass2</i> 类。
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">__autoload</span><span style="color: #007700">(</span><span style="color: #0000BB">$class_name</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;require_once&nbsp;</span><span style="color: #0000BB">$class_name&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$obj&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass1</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$obj2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass2</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>

</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.constants.html">类常量</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.decon.html">构造函数和析构函数</a></div>
 <div class="up"><a href="language.oop5.html">类与对象</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
